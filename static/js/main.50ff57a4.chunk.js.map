{"version":3,"sources":["utils/history.js","utils/selectFields.js","services/newsApi.js","styles/StoryStyles.js","img/star.svg","img/man.svg","img/time.svg","components/New.js","styles/ListStyles.js","styles/reloadStyles.js","img/reload.svg","containers/NewsContainer.js","components/CommentChild.js","styles/CommentStyles.js","components/Comment.js","img/back.svg","img/link.svg","img/comment.svg","containers/PageNewContainer.js","App.js","reportWebVitals.js","index.js"],"names":["createBrowserHistory","selectFields","id","by","time","title","score","url","baseUrl","newStoriesUrl","storyUrl","getStory","storyId","a","axios","get","then","data","result","getStoryPage","getStoryIds","localStorage","setItem","JSON","stringify","getComment","commentId","StoryWrapper","styled","section","New","newId","useState","story","setStory","useEffect","animateIn","animateOnce","className","src","man","star","s","Date","year","getFullYear","month","getMonth","getDate","getHours","getMinutes","getSeconds","format_time","AppHeader","h1","Row","div","AppHeaderWrapper","NewsList","Reload","button","NewsContainer","appCallback","storyIds","setStoryIds","isRun","setIsRun","handleClickId","e","target","classList","contains","getAttribute","onClick","window","location","reload","alt","sort","b","map","to","CommentChild","childId","child","setChild","text","CommentWrapper","Comment","comment","setComment","useStateIfMounted","childComment","setChildComment","hasOwnProperty","kids","ReactHtmlParser","PageNewContainer","newCurrentId","setText","comments","setComments","getItem","back","href","link","descendants","App","setId","exact","path","childData","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50ff57a4.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","export const selectFields = ({ id, by, time, title, score, url } = {}) => ({\r\n    id, \r\n    by, \r\n    time, \r\n    title, \r\n    score,\r\n    url\r\n})","import axios from \"axios\";\r\nimport { selectFields } from \"../utils/selectFields\";\r\n\r\nexport const baseUrl = 'https://hacker-news.firebaseio.com/v0/';\r\nexport const newStoriesUrl = `${baseUrl}newstories.json?orderBy=\"$key\"&limitToFirst=100`;\r\nexport const newCommentUrl = `${baseUrl}item/`;\r\nexport const storyUrl = `${baseUrl}item/`;\r\n\r\nexport const getStory = async (storyId) => {\r\n    const result = await axios.get(`${storyUrl + storyId}.json`).then(({data}) => data && selectFields(data));\r\n    return result;\r\n}\r\n\r\nexport const getStoryPage = async (storyId) => {\r\n    const result = await axios.get(`${storyUrl + storyId}.json`).then(({data}) => data);\r\n    return result;\r\n}\r\n\r\nexport const getStoryIds = async () => {\r\n    const result = await axios.get(newStoriesUrl).then(({ data }) => data);\r\n    localStorage.setItem('StoryIds', JSON.stringify(result));\r\n    return result\r\n}\r\n\r\nexport const getComment = async (commentId) => {\r\n    const result = await axios.get(`${storyUrl + commentId}.json`).then(({data}) => data);\r\n    return result;\r\n}","import styled from 'styled-components'\r\n\r\nexport const StoryWrapper = styled.section`\r\npadding: 20px;\r\nbackground: #fff;\r\nborder-radius: 8px;\r\npointer-events:none;\r\nheight: calc(100% - 40px);\r\ncolor:#000;\r\nmax-width:1560px;\r\nmargin: 0 auto;\r\n\r\n.story-title{\r\n    font-weight:700;\r\n    color: rgb(255, 102, 0);\r\n}\r\n.story-title-item{\r\n    font-weight:700;\r\n    color: rgb(255, 102, 0);\r\n    font-size:32px;\r\n    margin-top: 0;\r\n}\r\n.story-row{\r\n    margin: 0 0 20px 0;\r\n    align-items: center;\r\n    display: flex;\r\n    font-size:24px\r\n}\r\n.story-row>img{\r\n    max-width:32px;\r\n    margin-right:10px;\r\n}\r\n.story-row:last-child{\r\n    margin:0;\r\n}\r\n`;","export default __webpack_public_path__ + \"static/media/star.2ee569fb.svg\";","export default __webpack_public_path__ + \"static/media/man.9a2295f8.svg\";","export default __webpack_public_path__ + \"static/media/time.c1581ebe.svg\";","import React, {useState, useEffect} from \"react\";\r\nimport { getStory } from \"../services/newsApi\";\r\nimport { StoryWrapper } from '../styles/StoryStyles';\r\nimport star  from \"../img/star.svg\";\r\nimport man  from \"../img/man.svg\";\r\nimport time  from \"../img/time.svg\";\r\nimport ScrollAnimation from 'react-animate-on-scroll';\r\n\r\nexport const New = ({newId}) => {\r\n\r\n    const [story, setStory] = useState({});\r\n\r\n    useEffect(() => {\r\n        getStory(newId).then(data => data && data.id && setStory(data))\r\n    },[])\r\n\r\n    function format_time(s) {\r\n        let a = new Date(s * 1000);\r\n        let months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n        let year = a.getFullYear();\r\n        let month = months[a.getMonth()];\r\n        let date = a.getDate();\r\n        let hour = a.getHours();\r\n        let min = a.getMinutes();\r\n        let sec = a.getSeconds();\r\n        let time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;\r\n        return time;\r\n    }\r\n\r\n\r\n    return story && story.id ? (\r\n        <ScrollAnimation  animateIn='fadeIn' animateOnce={true}>\r\n        <StoryWrapper>\r\n        <p className={\"story-row story-title\"}>{story.title}</p>\r\n        <p className={\"story-row\"}><img src={man}/> {story.by}</p>\r\n        <p className={\"story-row\"}><img src={star}/> {story.score}</p>\r\n        <p className={\"story-row\"}><img src={time}/> {format_time(story.time)}</p>\r\n        </StoryWrapper>\r\n        </ScrollAnimation>\r\n        ) : \"\";\r\n};","import styled from 'styled-components'\r\n\r\nexport const AppHeader = styled.h1`\r\nfont-size: 64px;\r\ntext-align: center;\r\nmargin: 40px 0;\r\n`;\r\n\r\nexport const Row = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\nalign-items: center;\r\nmax-width: 1600px;\r\nmargin: 40px auto;\r\nheight: 78px;\r\n\r\nbutton{\r\n    margin-left: 0 !important;\r\n}\r\n`;\r\n\r\nexport const AppHeaderWrapper = styled.div`\r\ndisplay: flex;\r\njustify-content: center;\r\nalign-items: center;\r\nmax-width: 1600px;\r\nmargin: 0 auto;\r\n`;\r\n\r\nexport const NewsList = styled.div`\r\ndisplay: grid;\r\ngrid-template-columns: 1fr 1fr;\r\ngrid-column-gap: 40px;\r\ngrid-row-gap: 40px;\r\nmax-width: 1600px;\r\nmargin: 0 auto;\r\n`;","import styled from 'styled-components'\r\n\r\nexport const Reload = styled.button`\r\n    background: #fff;\r\n    border: none;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n    padding: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width:64px;\r\n    height:64px;\r\n    margin-left: auto;\r\n    transition: 0.5s;\r\n\r\n    img{\r\n        max-width:32px;\r\n    }\r\n`;\r\n","export default __webpack_public_path__ + \"static/media/reload.eb18d95f.svg\";","import React, {useEffect, useState} from 'react';\r\nimport { getStoryIds } from '../services/newsApi';\r\nimport { New } from '../components/New';\r\nimport { Link } from \"react-router-dom\";\r\nimport { AppHeader } from '../styles/ListStyles';\r\nimport { NewsList } from '../styles/ListStyles';\r\nimport { Reload } from '../styles/reloadStyles';\r\nimport { AppHeaderWrapper } from '../styles/ListStyles';\r\nimport reload from '../img/reload.svg'\r\n\r\nexport const NewsContainer = ({appCallback}) => {\r\n    const [storyIds, setStoryIds] = useState([]);\r\n    const [isRun, setIsRun] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getStoryIds().then(data => data && setStoryIds(data))\r\n    },[])\r\n\r\n    const handleReload = () => {\r\n      if (isRun) { return; }\r\n      setIsRun(true);\r\n      getStoryIds().then(data => data && setStoryIds(data) && setIsRun(false))\r\n      window.location.reload();\r\n    }\r\n\r\n    const handleClickId = (e) => {\r\n      if (e.target.classList.contains(\"story-wrapper\")) {\r\n        localStorage.setItem('newId', e.target.getAttribute('data-testid'));\r\n        appCallback(e.target.getAttribute('data-testid'));\r\n      }\r\n  }\r\n    return storyIds ? (\r\n        <>\r\n        <AppHeaderWrapper>\r\n          <AppHeader>Hacker News</AppHeader>\r\n          <Reload className={'btn'} onClick={handleReload}>\r\n            <img src={reload} alt={reload} />\r\n          </Reload>\r\n        </AppHeaderWrapper>\r\n        <NewsList>\r\n        {storyIds.sort((a, b) => {\r\n        if (a.time > b.time) {\r\n          return -1;\r\n        }\r\n        if (a.time < b.time) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      })\r\n    .map(storyId => (\r\n      \r\n        <Link key={storyId} to=\"/avito-test/new-item\">\r\n          <div key={storyId} className={'story-wrapper'} data-testid={storyId} onClick={handleClickId}>\r\n             <New key={storyId} newId={storyId}/>\r\n          </div>\r\n        </Link>\r\n     \r\n    ))}\r\n    </NewsList>\r\n        </>\r\n    ) : \"\";\r\n\r\n\r\n\r\n\r\n};","import React, {useState, useEffect} from \"react\";\r\nimport { getComment } from \"../services/newsApi\";\r\nimport man  from \"../img/man.svg\";\r\nexport const CommentChild = ({childId}) => {\r\n\r\n    const [child, setChild] = useState({});\r\n\r\n    useEffect(() => {\r\n        getComment(childId).then(data => data && data.id && setChild(data))\r\n    },[])\r\n\r\n\r\n    return (\r\n        <>\r\n            <p><img src={man} alt={man}/> {child.by}</p>\r\n            <p>{child.text}</p>\r\n        </>\r\n        )\r\n};","import styled from 'styled-components'\r\n\r\nexport const CommentWrapper = styled.div`\r\npadding: 20px;\r\nbackground: #fff;\r\nborder-radius: 8px;\r\ncolor: #000;\r\ncursor:pointer;\r\nmax-width:1560px;\r\nmargin:0 auto;\r\nmargin-top: 20px;\r\n\r\n.comment-wrapper-child{\r\n    padding-left: 2.5%;\r\n}\r\n\r\nimg{\r\n    max-width:32px;\r\n    margin-right:10px;\r\n}\r\n\r\np{\r\n    display:flex;\r\n    align-items:center;\r\n}\r\n`;\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport { getComment } from \"../services/newsApi\";\r\nimport { useStateIfMounted } from 'use-state-if-mounted';\r\nimport { CommentChild } from \"./CommentChild\";\r\nimport { CommentWrapper } from \"../styles/CommentStyles\";\r\nimport man  from \"../img/man.svg\";\r\nimport ReactHtmlParser from 'react-html-parser'; \r\n\r\nexport const Comment = ({commentId}) => {\r\n\r\n    const [comment, setComment] = useState({});\r\n    const [childComment, setChildComment] = useStateIfMounted([]);\r\n\r\n    useEffect(() => {\r\n        getComment(commentId).then( (data) => {\r\n            data && data.id && setComment(data);\r\n        });\r\n    },[])\r\n\r\n    const showComments = (e) => {\r\n        if (e.target.classList.contains(\"comment-wrapper\")) {\r\n            let id = e.target.getAttribute('data-id');\r\n            getComment(id).then( (data) => {\r\n                if(data.hasOwnProperty('kids')){\r\n                    setChildComment(data.kids);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    return comment && comment.id ? (\r\n        <CommentWrapper className={'comment-wrapper'} onClick={showComments} data-id={commentId}>\r\n            <p><img src={man} alt={man}/> {comment.by}</p>\r\n            <div> { ReactHtmlParser (comment.text) } </div>\r\n                {childComment != 0 ? \r\n                    childComment.map(child => (\r\n                        <div className={'comment-wrapper-child'}>\r\n                        <CommentChild key={child} childId={child}></CommentChild>\r\n                        </div>\r\n                    )) : \"\"\r\n                }\r\n        </CommentWrapper>\r\n        ) : \"\"\r\n};","export default __webpack_public_path__ + \"static/media/back.88938ea5.svg\";","export default __webpack_public_path__ + \"static/media/link.baaa8043.svg\";","export default __webpack_public_path__ + \"static/media/comment.dd7f7e90.svg\";","import React, {useEffect, useState} from 'react';\r\nimport { getStoryPage } from '../services/newsApi';\r\nimport { StoryWrapper } from '../styles/StoryStyles';\r\nimport { Comment } from '../components/Comment';\r\nimport { useStateIfMounted } from 'use-state-if-mounted';\r\nimport { Reload } from '../styles/reloadStyles';\r\nimport reload from '../img/reload.svg';\r\nimport back from '../img/back.svg';\r\nimport { Row } from '../styles/ListStyles';\r\nimport { Link } from \"react-router-dom\";\r\n// import { Link } from \"react-router-dom\";\r\n\r\nimport star  from \"../img/star.svg\"\r\nimport man  from \"../img/man.svg\"\r\nimport time  from \"../img/time.svg\"\r\nimport link  from \"../img/link.svg\"\r\nimport comment  from \"../img/comment.svg\"\r\n\r\nexport const PageNewContainer = ({newCurrentId}) => {\r\n    const [text, setText] = useStateIfMounted(false);\r\n    const [story, setStory] = useState({});\r\n    const [comments, setComments] = useState([]);\r\n    const [isRun, setIsRun] = useState(false);\r\n\r\n    useEffect(() => {\r\n        getStoryPage(localStorage.getItem('newId')).then( (data) => {\r\n            data && data.id && setStory(data);\r\n            setText(true);\r\n            if(data.hasOwnProperty('kids')){\r\n            data && data.id && setComments(data.kids);\r\n            }\r\n        });\r\n    },[])\r\n\r\n    const handleReload = () => {\r\n        if (isRun) { return; }\r\n        setIsRun(true);\r\n        getStoryPage().then(data => data && setComments(data.kids) && setIsRun(false))\r\n        window.location.reload();\r\n      }\r\n\r\n    function format_time(s) {\r\n        let a = new Date(s * 1000);\r\n        let months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n        let year = a.getFullYear();\r\n        let month = months[a.getMonth()];\r\n        let date = a.getDate();\r\n        let hour = a.getHours();\r\n        let min = a.getMinutes();\r\n        let sec = a.getSeconds();\r\n        let time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;\r\n        return time;\r\n    }\r\n\r\n    return story && story.id ? (\r\n        <>\r\n        <Row>\r\n        <Reload className={'btn'} onClick={handleReload}>\r\n            <img src={reload} alt={reload} />\r\n        </Reload>\r\n        <Link to=\"/avito-test\">\r\n        <Reload className={'btn'}>\r\n            <img src={back} alt={back} />\r\n        </Reload>\r\n        </Link>\r\n        </Row>\r\n\r\n        <StoryWrapper data-testid={story.id} className={\"story-click\"}>\r\n            <h2 className={\"story-title-item\"}>{story.title}</h2>\r\n            <a href={story.url} target=\"_blank\" className={\"story-row\"}><img src={link}/><span>{story.url}</span></a>\r\n            <p className={\"story-row\"}><img src={time}/> {format_time(story.time)}</p>\r\n            <p className={\"story-row\"}><img src={man}/> {story.by}</p>\r\n            <p className={\"story-row\"}><img src={star}/> {story.score}</p>\r\n            <p className={\"story-row\"}><img src={comment}/> {story.descendants}</p>\r\n        </StoryWrapper>\r\n\r\n        {\r\n            comments.map(commentId => (\r\n                <Comment key={commentId} commentId={commentId}/>\r\n            ))\r\n        }\r\n\r\n        </>\r\n        ) : \"\"\r\n\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport history from './utils/history';\r\n\r\nimport { NewsContainer } from './containers/NewsContainer';\r\nimport { PageNewContainer } from './containers/PageNewContainer';\r\n\r\nimport \"./App.css\";\r\n\r\nexport const App = () => {\r\nconst [id, setId] = useState(0);\r\nconst handleCallback = (childData) =>{\r\n    setId(childData);\r\n}\r\n\r\nreturn(\r\n<BrowserRouter>\r\n    <Switch>\r\n        <Route exact  path=\"/avito-test\">\r\n            <NewsContainer appCallback={handleCallback}/>\r\n        </Route>\r\n        <Route path=\"/avito-test/new-item\">\r\n                <PageNewContainer newCurrentId={id}/>\r\n        </Route>\r\n    </Switch>\r\n</BrowserRouter>\r\n)\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport {render} from 'react-dom';\r\nimport {App} from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nrender(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}